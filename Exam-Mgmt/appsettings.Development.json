{
  "ConnectionStrings": {
    "DefaultConnection": "Server=WINDOWS-H9I7U7H\\SQLEXPRESS01;Database=Student_Management_System;User Id=sa;Password=bethlehem;TrustServerCertificate=True;"
  },

  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  }
}

/*
  Ah! Now I understand — you want a single stored procedure with a @Mode parameter that handles Create, Update, Delete depending on the value of @Mode. This is a common pattern in SQL Server.

Here’s the basic syntax:

SQL Stored Procedure with @Mode
CREATE PROCEDURE sp_SubjectMaster_CRUD
    @Mode VARCHAR(10),        -- 'CREATE', 'UPDATE', 'DELETE'
    @Subject_Id INT = NULL,   -- optional for CREATE
    @Subject_Name VARCHAR(200) = NULL,
    @Created_By VARCHAR(100) = NULL,
    @Modified_By VARCHAR(100) = NULL,
    @Obsolete CHAR(1) = 'N',
    @NewSubjectId INT OUTPUT
AS
BEGIN
    SET NOCOUNT ON;

    IF @Mode = 'CREATE'
    BEGIN
        INSERT INTO Subject_Master (Subject_Name, Created_Date, Created_By, Obsolete)
        VALUES (@Subject_Name, GETDATE(), @Created_By, @Obsolete);

        SET @NewSubjectId = SCOPE_IDENTITY();
    END
    ELSE IF @Mode = 'UPDATE'
    BEGIN
        UPDATE Subject_Master
        SET 
            Subject_Name = @Subject_Name,
            Modified_Date = GETDATE(),
            Modified_By = @Modified_By
        WHERE Subject_Id = @Subject_Id;
    END
    ELSE IF @Mode = 'DELETE'
    BEGIN
        -- Soft delete by setting Obsolete = 'Y'
        UPDATE Subject_Master
        SET 
            Obsolete = 'Y',
            Modified_Date = GETDATE(),
            Modified_By = @Modified_By
        WHERE Subject_Id = @Subject_Id;
    END
    ELSE
    BEGIN
        RAISERROR('Invalid Mode. Use CREATE, UPDATE, or DELETE.', 16, 1);
    END
END

✅ How it works
@Mode	Operation	Required Parameters
CREATE	Insert new record	@Subject_Name, @Created_By
UPDATE	Update existing record	@Subject_Id, @Subject_Name, @Modified_By
DELETE	Soft delete by marking Obsolete = 'Y'	@Subject_Id, @Modified_By

@NewSubjectId OUTPUT returns the ID for newly created subjects.

SET NOCOUNT ON avoids extra row-count messages.

If an invalid @Mode is passed, an error is raised.

Example Calls

1. Create

DECLARE @NewID INT;
EXEC sp_SubjectMaster_CRUD
    @Mode = 'CREATE',
    @Subject_Name = 'Math',
    @Created_By = 'Admin',
    @NewSubjectId = @NewID OUTPUT;

SELECT @NewID;


2. Update

EXEC sp_SubjectMaster_CRUD
    @Mode = 'UPDATE',
    @Subject_Id = 1,
    @Subject_Name = 'Mathematics',
    @Modified_By = 'Admin';


3. Delete (Soft Delete)

EXEC sp_SubjectMaster_CRUD
    @Mode = 'DELETE',
    @Subject_Id = 1,
    @Modified_By = 'Admin';


If you want, I can also show a C# service method that calls this single SP for all CRUD operations using @Mode, so your API becomes really clean.

Do you want me to do that?

*/
